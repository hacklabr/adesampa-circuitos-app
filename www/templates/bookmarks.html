<ion-view title="" id="bookmarks" class="page-bookmarks">
    <ion-content padding="false" class="has-header">

      <div ng-show="shops.length>0">
        <ion-list class="page-header">
            <a ui-sref="tabsController.shopsList" class="button button-clear ion-arrow-left-c button-back"></a>
            <h1 class="page-title">favoritos <span>lista de lojas</span></h1>
            <button ng-if="TODO" class="button button-clear icon-left ion-edit button-search-list">editar</button>
        </ion-list>


        <div class="button-bar button-bar-custom">
            <button ng-click="selectList()" class="button button-small button-clear button-view-list" ng-class="{active:isList}">ver em lista</button>
            <button ng-click="selectMap()" class="button button-small button-clear button-view-map" ng-class="{active:isMap}">ver no mapa</button>
        </div>

        <ion-list ng-if="isList" ng-repeat="shop in shops" class="shop">
            <div class="shop-information-list">
                <a ui-sref="tabsController.shopSingle({shop:shop.id})" class="shop-link">
                <h1 class="item item-body shop-title">{{shop.name}}</h1>
                </a>
                <div class="shop-wrapper">
                    <p ng-if="TODO" class="item item-body shop-description"><strong>Regiao: </strong>
                    </p>
                    <p class="item item-body shop-description">segmentos: <strong>{{shop.terms.area.join(", ")}}</strong></p>
                    <div class="item item-body shop-actions">
                        <button ng-click="removeBookmark(shop)" class="button button-small button-icon icon-left ion-trash-a button-delete">remover</button>
                    </div>
                </div>
            </div>
        </ion-list>
        <div map-container dataset="bookmarks" target="bookmarks" linkpath="#/tabs/tab2/shopsingle/" id="map-bookmarks" ng-show="isMap"></div>
      </div>
      <div class="no-route" ng-if="shops.length==0">
        <div class="background"></div>
        <div class="message">
          <h1>Organize as suas lojas favoritas aqui</h1>
          <h2>Veja como é fácil</h2>
          <ol>
            <li>Crie um circuito (<span><i class="icon ion-android-add-circle"></i> novo</span> no menu geral ou no botão no fim da lista)</li>
            <li>Na lista de lojas, clique em <span><i class="icon ion-star"></i> adicionar aos favoritos</span></li>
            <li>Pronto! Sempre que quiser acessar as suas lojas favoritas elas estarão disponíveis na aba <span><i class="icon ion-star"></i> favoritos</span></li>
          </ol>
        </div>
      </div>


    </ion-content>
    <div class="modal-wrapper" ng-if="TODO">
        <ion-list class="filter filter-modal">
            <h2 class="item item-body item-icon-right modal-title">
                filtrar a lista <i class="icon ion-close icon-accessory"></i>
            </h2>
            <form class="filter-form">
                <div class="filter-content">
                    <fieldset>
                        <div class="item item-body filter-label">escolha uma categoria:</div>
                        <label class="item item-input item-select" for="select-categories">
                            <span class="input-label">--/--</span>
                            <select id="select-categories">
                                <option></option>
                                <option ng-repeat="category in route.categories">{{category}}</option>
                            </select>
                        </label>
                        <div class="item item-body">
                            <button class="button button-small button-block button-clear button-add-categories icon-left ion-android-add-circle">adicione mais categorias</button>
                        </div>
                    </fieldset>
                </div>
                <a ui-sref="tabsController.shopsList({route:route.id})" class="button button-use-filter">usar</a>
            </form>
        </ion-list>
    </div>
</ion-view>
