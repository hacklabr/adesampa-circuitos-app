<ion-view title="" hide-back-button="true" id="map" class="page-map">
    <ion-content padding="false" class="has-header">
        <div id="map-map" class="map-iframe"></div>

        <ion-list class="page-header" ng-if="TODO">
            <a ui-sref="tabsController.shopsList" class="button button-clear ion-arrow-left-c button-back"></a>
            <h1 class="page-title">Mapa <span>mostrando lojas pr√≥ximas a mim</span></h1>
        </ion-list>

        <div class="map-filter-buttons">
            <button ng-if="data.category.length>0" ng-click="data.category=[]; filterMap()" class="button button-block button-clear icon-left ion-trash-a button-edit-filter">limpar filtros de lojas</button>
            <button ng-click="data.modal=true" class="button button-block button-clear icon-left ion-edit button-edit-filter">editar filtro de lojas</button>
        </div>

    </ion-content>
    <div class="modal-wrapper" ng-if="data.modal">
        <ion-list class="filter filter-modal">
            <h2 class="item item-body item-icon-right modal-title">
                adicionar <span>filtro</span> <i ng-click="data.modal=false" class="icon ion-close icon-accessory"></i>
            </h2>
            <form class="filter-form">
                <div class="filter-content">
                    <fieldset>
                        <div class="item item-body filter-label">escolha uma categoria:</div>
                        <label class="item item-input item-select" for="select-categories" ng-repeat="filter in filters">
                            <span class="input-label">--/--</span>
                            <select id="select-categories" ng-model="data.category[filter]">
                                <option></option>
                                <option ng-repeat="category in categories">{{category}}</option>
                            </select>
                        </label>
                        <div class="item item-body">
                            <button ng-click="addFilter()" class="button button-small button-block button-clear button-add-categories icon-left ion-android-add-circle">adicione mais categorias</button>
                        </div>
                    </fieldset>
                </div>
                <a ng-click="filterMap()" class="button button-use-filter">usar</a>
            </form>
        </ion-list>
    </div>

</ion-view>
