<ion-view title="" hide-back-button="true" id="shop-list" class="page-shops-list">
    <ion-content padding="false" class="has-header">
        <ion-list class="page-header">
            <a ui-sref="tabsController.routesList" class="button button-clear ion-arrow-left-c button-back"></a>
            <h1 class="page-title">{{route.title}} <span>{{created|date:"dd/MM/yy"}}</span></h1>
        </ion-list>
        <div class="button-bar">
            <button ng-click="selectList()" class="button button-small button-clear button-view-list" ng-class="{active:isList}">ver em lista</button>
            <button ng-click="selectMap()" class="button button-small button-clear button-view-map" ng-class="{active:isMap}">ver no mapa</button>
        </div>
        <ion-list ng-if="isList" ng-repeat="shop in shops" class="shop">
          <a ui-sref="tabsController.shopSingle({shop:shop.id})" class="shop-link">
            <h1 class="item item-body shop-title">{{shop.name}}</h1>
          </a>
          <div class="shop-wrapper">
            <p class="item item-body shop-description">segmentos: <strong>{{shop.terms.area.join(", ")}}</strong></p>
            <div class="item item-body shop-actions">
              <button ng-if="isBookmark(shop)" ng-click="removeBookmark(shop)" class="button button-small button-icon icon-left ion-trash-a button-delete">remover dos favoritos</button>
              <button ng-if="!isBookmark(shop)" ng-click="addBookmark(shop)" class="button button-small button-icon icon-left ion-star button-bookmark">adicionar aos favoritos</button>
            </div>
          </div>
          <a ui-sref="tabsController.shopSingle({shop:shop.id})"><div class="icon ion-ios-arrow-forward"></div></a>
        </ion-list>
        <div id="map-{{mapid}}" ng-show="isMap" style="height: 450px;"></div>
    </ion-content>
</ion-view>
